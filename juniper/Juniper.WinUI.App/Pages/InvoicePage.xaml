<Page x:Class="Juniper.WinUI.App.Pages.InvoicePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:interactionCore="using:Microsoft.Xaml.Interactions.Core"
      xmlns:interaction="using:Microsoft.Xaml.Interactivity"
      xmlns:models="using:Juniper.Core.Models"
      xmlns:viewModels="using:Juniper.Core.ViewModels"
      xmlns:local="using:Juniper.WinUI.App.Pages"
      xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
      xmlns:userControls="using:Juniper.WinUI.App.Controls"
      xmlns:behaviors="using:Juniper.WinUI.App.Behaviors"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      x:Name="ThisPage">
    <Page.Resources>
        <ResourceDictionary>
            <Style TargetType="ComboBox"
                   BasedOn="{StaticResource NewDefaultComboBoxStyle}">
                <Setter Property="Width"
                        Value="{StaticResource MultipleOf4RectWidthXXSmall}" />
            </Style>
        </ResourceDictionary>
    </Page.Resources>
    <userControls:CanSendDocumentsUserControl  HeaderText="{x:Bind ViewModel.StringId}">
        <userControls:CanSendDocumentsUserControl.HeaderContent>
            <CommandBar>
                <AppBarButton Command="{x:Bind ViewModel.OnCommand}"
                              CommandParameter="CommandExportAsCSV"
                              Label="CSV"
                              Icon="Document"
                              ToolTipService.ToolTip="Export Invoice Data To CSV format in Excel" />
            </CommandBar>
        </userControls:CanSendDocumentsUserControl.HeaderContent>

        <userControls:CanSendDocumentsUserControl.ExpanderBodyContent>
            <ScrollViewer>
                <ContentControl IsEnabled="{x:Bind ViewModel.ForceEnabled,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                    <ContentControl.Content>
                        <StackPanel>
                            <userControls:TitledFieldsUserControl HeaderText="Invoice Header">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <StackPanel Width="{StaticResource BasePageUserControlWidth}">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBox Text="{x:Bind ViewModel.InvoiceHeader.TradingPartnerId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                     Header="TradingPartnerId"
                                                     VerticalAlignment="Center" />
                                            <TextBox Text="{x:Bind ViewModel.InvoiceHeader.InvoiceNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                     Header="Invoice Number"
                                                     VerticalAlignment="Center" />
                                            <TextBox Text="{x:Bind ViewModel.InvoiceHeader.BillOfLadingNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                     Header="Bill Of Lading Number"
                                                     VerticalAlignment="Center" />
                                        </StackPanel>
                                        <DatePicker Header="Invoice Date: "
                                                    Margin="{StaticResource ActionsPadding}"
                                                    SelectedDate="{x:Bind ViewModel.InvoiceHeader.InvoiceDate, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                        <StackPanel Orientation="Horizontal">
                                            <StackPanel.Resources>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Margin"
                                                            Value="{StaticResource ActionsPadding}" />
                                                    <Setter Property="FontWeight"
                                                            Value="Medium" />
                                                    <Setter Property="HorizontalAlignment"
                                                            Value="Left" />
                                                </Style>
                                            </StackPanel.Resources>
                                            <TextBlock>
                                        <Run Text="Purchase Order Date: " />
                                        <Run Text="{x:Bind ViewModel.InvoiceHeader.PurchaseOrderDate}" />
                                            </TextBlock>
                                            <TextBlock>
                                        <Run Text="Ship Date: " />
                                        <Run Text="{x:Bind ViewModel.InvoiceHeader.ShipDate}" />
                                            </TextBlock>
                                            <TextBlock>
                                        <Run Text="Vendor: " />
                                        <Run Text="{x:Bind ViewModel.InvoiceHeader.Vendor}" />
                                            </TextBlock>
                                            <TextBlock>
                                        <Run Text="Department: " />
                                        <Run Text="{x:Bind ViewModel.InvoiceHeader.Department}" />
                                            </TextBlock>
                                        </StackPanel>
                                    </StackPanel>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Summary">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <StackPanel Width="{StaticResource BasePageUserControlWidth}">
                                        <TextBlock FontWeight="Medium"
                                                   FontSize="16"
                                                   Padding="{StaticResource ActionsPadding}">
                                                <Run Text="Total Line Items" />
                                                <Run Text="{x:Bind ViewModel.InvoiceLines.Count}" />
                                        </TextBlock>

                                        <StackPanel Orientation="Horizontal">
                                            <NumberBox Text="{x:Bind ViewModel.Summary.TotalAmount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                       Header="Total Amount"
                                                       Width="189" />
                                            <NumberBox Text="{x:Bind ViewModel.Summary.TotalSalesAmount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                       Header="Total Sales Amount"
                                                       Width="189"
                                                       Margin="{StaticResource ActionsPadding}" />
                                        </StackPanel>

                                        <StackPanel Orientation="Horizontal">
                                            <NumberBox Text="{x:Bind ViewModel.Summary.TotalTermsDiscountAmount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                       Header="Total Terms Discount Amount"
                                                       Width="189" />
                                            <NumberBox Text="{x:Bind ViewModel.Summary.InvoiceAmtDueByTermsDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                       Header="Amt Due By Terms Date"
                                                       Width="189"
                                                       VerticalAlignment="Center"
                                                       Margin="{StaticResource ActionsPadding}" />
                                        </StackPanel>
                                    </StackPanel>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="DC and Store# Addresses">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <userControls:AddableGridViewUserControl x:Name="AddableAddresses"
                                                                             ItemsSource="{x:Bind ViewModel.InvoiceHeader.Address, Mode=OneWay}"
                                                                             ActionButtonCommandParam="CommandAddAddress">
                                        <userControls:AddableGridViewUserControl.ItemTemplate>
                                            <DataTemplate x:DataType="models:BaseAddressModel">
                                                <StackPanel Orientation="Horizontal">
                                                    <ComboBox Header="TC:"
                                                              x:Phase="1"
                                                              ItemsSource="{x:Bind AddressTypeCode}"
                                                              SelectedValue="{x:Bind SAddressTypeCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"  />

                                                    <TextBox Text="{x:Bind AddressLocationNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             x:Phase="1"
                                                             Width="69"
                                                             Header="Loc#">
                                                    </TextBox>

                                                    <TextBox Text="{x:Bind DC, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             x:Phase="1"
                                                             Width="69"
                                                             Header="DC" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </userControls:AddableGridViewUserControl.ItemTemplate>
                                    </userControls:AddableGridViewUserControl>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Payment Terms">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ViewModel.InvoiceHeader.PaymentTerms, Mode=OneWay}"
                                                                             ActionButtonCommandParam="CommandAddPaymentTerms">
                                        <userControls:AddableGridViewUserControl.ItemTemplate>
                                            <DataTemplate x:DataType="models:BasePaymentTermsModel">
                                                <StackPanel>
                                                    <StackPanel Orientation="Horizontal">
                                                        <ComboBox ItemsSource="{x:Bind TermsTypeList}"
                                                                  SelectedValue="{x:Bind TermsType,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                                  Header="Type" />

                                                        <ComboBox ItemsSource="{x:Bind TermsBasisDateCodeList}"
                                                                  SelectedValue="{x:Bind TermsBasisDateCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                                  Header="Basis Date Code" />

                                                        <NumberBox Text="{x:Bind TermsNetDueDays, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                   Header="Net Due Days" />

                                                        <userControls:CalendarDatePickerEx Header="Terms Net Due Date"
                                                                                           ToolTipService.ToolTip="Date by which total invoice amount is due[discount not applicable]"
                                                                                           Date="{x:Bind TermsNetDueDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                                                        <NumberBox Text="{x:Bind TermsDiscountPercentage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                   Header="Discount %" />

                                                        <NumberBox Text="{x:Bind TermsDiscountDueDays, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                   Header="Discount Due Days" />
                                                    </StackPanel>
                                                </StackPanel>
                                            </DataTemplate>
                                        </userControls:AddableGridViewUserControl.ItemTemplate>
                                    </userControls:AddableGridViewUserControl>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Dates">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ViewModel.InvoiceHeader.Dates, Mode=OneWay}"
                                                                             ActionButtonCommandParam="CommandAddDates">
                                        <userControls:AddableGridViewUserControl.ItemTemplate>
                                            <DataTemplate x:DataType="models:BaseDatesModel">
                                                <StackPanel Orientation="Horizontal">
                                                    <DatePicker Header="Date: "
                                                                Margin="{StaticResource ActionsPadding}"
                                                                SelectedDate="{Binding Date, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                                    <ComboBox ItemsSource="{x:Bind DateTimeQualifierList}"
                                                              SelectedValue="{x:Bind DateTimeQualifier,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                              Header="Date Time Qualifier" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </userControls:AddableGridViewUserControl.ItemTemplate>
                                    </userControls:AddableGridViewUserControl>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="FOB Related Instruction">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ViewModel.InvoiceHeader.FOBRelatedInstruction, Mode=OneWay}"
                                                                             ActionButtonCommandParam="CommandAddFOBRelatedInstruction">
                                        <userControls:AddableGridViewUserControl.ItemTemplate>
                                            <DataTemplate x:DataType="models:BaseFOBRelatedInstruction">
                                                <StackPanel Orientation="Horizontal">
                                                    <ComboBox ItemsSource="{x:Bind FOBPayCodeList}"
                                                              SelectedValue="{x:Bind FOBPayCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                              Header="Pay Code" />

                                                    <ComboBox ItemsSource="{x:Bind FOBTitlePassageCodeList}"
                                                              SelectedValue="{x:Bind FOBLocationQualifier,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                              Header="Location Code"
                                                              ToolTipService.ToolTip="Location Qualifier Code"/>

                                                    <ComboBox ItemsSource="{x:Bind FOBLocationQualifierList}"
                                                              SelectedValue="{x:Bind FOBTitlePassageCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                              Header="Title Code"
                                                              ToolTipService.ToolTip="Title Passage Code" />

                                                    <TextBox Text="{x:Bind FOBTitlePassageLocation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             Header="Invoice Number" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </userControls:AddableGridViewUserControl.ItemTemplate>
                                    </userControls:AddableGridViewUserControl>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Carrier Information">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ViewModel.InvoiceHeader.CarrierInformation, Mode=OneWay}"
                                                                             ActionButtonCommandParam="CommandAddCarrierInformation">
                                        <userControls:AddableGridViewUserControl.ItemTemplate>
                                            <DataTemplate x:DataType="models:BaseCarrierInformationModel">
                                                <StackPanel Orientation="Horizontal">
                                                    <ComboBox ItemsSource="{x:Bind CarrierTransMethodCodesList}"
                                                              SelectedValue="{x:Bind CarrierTransMethodCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                              Header="Carrier Code"
                                                              ToolTipService.ToolTip="Carrier Trans Method Code"/>

                                                    <TextBox Text="{x:Bind CarrierAlphaCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             Header="Carrier Alpha Code" />

                                                    <TextBox Text="{x:Bind CarrierRouting, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             Header="Carrier Routing" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </userControls:AddableGridViewUserControl.ItemTemplate>
                                    </userControls:AddableGridViewUserControl>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Quantity Totals">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ViewModel.InvoiceHeader.QuantityTotals, Mode=OneWay}"
                                                                             ActionButtonCommandParam="CommandAddQuantityTotals">
                                        <userControls:AddableGridViewUserControl.ItemTemplate>
                                            <DataTemplate x:DataType="models:BaseQuantityTotalsModel">
                                                <StackPanel Width="630">
                                                    <StackPanel Orientation="Horizontal">
                                                        <ComboBox ItemsSource="{x:Bind QuantityTotalsQualifierList}"
                                                                  SelectedValue="{x:Bind QuantityTotalsQualifier,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                                  Header="Qualifier"
                                                                  ToolTipService.ToolTip="Quantity Totals Qualifier"/>

                                                        <ComboBox ItemsSource="{x:Bind QuantityUOMList}"
                                                                  SelectedValue="{x:Bind QuantityUOM,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                                  Header="Quantity UOM" />

                                                        <NumberBox Text="{x:Bind Quantity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                   Header="Quantity" />
                                                        <ComboBox ItemsSource="{x:Bind WeightUOMList}"
                                                                  SelectedValue="{x:Bind WeightUOM,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                                  Header="Weight UOM" />

                                                        <NumberBox Text="{x:Bind Weight, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                   Header="Weight" />
                                                    </StackPanel>
                                                </StackPanel>
                                            </DataTemplate>
                                        </userControls:AddableGridViewUserControl.ItemTemplate>
                                    </userControls:AddableGridViewUserControl>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Taxes">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ViewModel.InvoiceHeader.Taxes, Mode=OneWay}"
                                                                             ActionButtonCommandParam="CommandAddTax">
                                        <userControls:AddableGridViewUserControl.ItemTemplate>
                                            <DataTemplate x:DataType="models:BaseTaxesModel">
                                                <StackPanel>
                                                    <StackPanel Orientation="Horizontal">
                                                        <ComboBox ItemsSource="{x:Bind TaxTypeCode}"
                                                                  SelectedValue="{x:Bind TaxTypeCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                                  Header="Tax Type Code" />

                                                        <NumberBox Text="{x:Bind TaxAmount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                   Header="Tax Amount" />
                                                        <NumberBox Text="{x:Bind TaxPercent, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                   Header="Tax Percent" />
                                                    </StackPanel>

                                                    <StackPanel Orientation="Horizontal">
                                                        <ComboBox ItemsSource="{x:Bind JurisdictionQualList}"
                                                                  SelectedValue="{x:Bind JurisdictionQual,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                                  Header="Jurisdiction Qual" />
                                                        <TextBox Text="{Binding JurisdictionCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 Header="Jurisdiction Code" />
                                                    </StackPanel>

                                                    <ComboBox ItemsSource="{x:Bind TaxExemptCodeList}"
                                                              SelectedValue="{x:Bind TaxExemptCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                              Header="Tax Exempt Code" />
                                                    <TextBox Text="{Binding TaxId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             Header="Tax ID" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </userControls:AddableGridViewUserControl.ItemTemplate>
                                    </userControls:AddableGridViewUserControl>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>
                        </StackPanel>
                    </ContentControl.Content>
                </ContentControl>
            </ScrollViewer>
        </userControls:CanSendDocumentsUserControl.ExpanderBodyContent>

        <userControls:CanSendDocumentsUserControl.BodyContent>
            <userControls:TitledFieldsUserControl HeaderText="Invoice Items"
                                                  HorizontalAlignment="Stretch"
                                                  HorizontalContentAlignment="Stretch">
                <userControls:TitledFieldsUserControl.Fields>
                    <Grid>
                        <Grid.Resources>
                            <Style TargetType="TextBox"
                                   BasedOn="{StaticResource DefaultTextBoxStyle}">
                                <Setter Property="HorizontalAlignment"
                                        Value="Left" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="Margin"
                                        Value="{StaticResource ActionsPaddingSmall}" />
                            </Style>
                            <Style TargetType="NumberBox"
                                   BasedOn="{StaticResource NewDefaultNumberBoxStyle}">
                                <Setter Property="Margin"
                                        Value="{StaticResource ActionsPaddingSmall}" />
                                <Setter Property="Width"
                                        Value="{StaticResource MultipleOf4SquareLarge}" />
                            </Style>
                            <Style TargetType="ComboBox"
                                   BasedOn="{StaticResource NewDefaultComboBoxStyle}">
                                <Setter Property="Margin"
                                        Value="{StaticResource ActionsPaddingSmall}" />
                                <Setter Property="Width"
                                        Value="{StaticResource MultipleOf4SquareXLarge}" />
                            </Style>
                        </Grid.Resources>
                        <GridView x:Name="gridView"
                                  ItemsSource="{x:Bind ViewModel.InvoiceLines, Mode=OneWay}"
                                  ItemContainerStyle="{StaticResource addableGVIStyle}"
                                  SelectionMode="None"
                                  Grid.Row="1"
                                  BorderThickness="0">
                            <GridView.ItemTemplate>
                                <DataTemplate x:DataType="viewModels:InvoiceLineItemModel">
                                    <userControls:RemoveableItemUserControl RemoveClicked="RemoveableItemUserControl_RemoveClicked">
                                        <userControls:RemoveableItemUserControl.ItemContent>
                                            <StackPanel Padding="{StaticResource ActionsPadding}"
                                                        VerticalAlignment="Top"
                                                        HorizontalAlignment="Left">

                                                <TextBox Header="CPC"
                                                         Width="{StaticResource MultipleOf4RectBase}"
                                                         Text="{x:Bind InvoiceLine.ConsumerPackageCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                                <StackPanel Orientation="Horizontal">
                                                    <TextBox Header="Line#"
                                                             Text="{x:Bind InvoiceLine.LineSequenceNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             Width="{StaticResource MultipleOf4SquareLarge}"
                                                             />
                                                    <TextBox Header="Part#"
                                                             Width="{StaticResource MultipleOf4SquareXLarge}"
                                                             Text="{x:Bind InvoiceLine.VendorPartNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                </StackPanel>

                                                <StackPanel Orientation="Horizontal">
                                                    <NumberBox Text="{x:Bind InvoiceLine.InvoiceQty, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                               Header="Qty" />
                                                    <ComboBox ItemsSource="{x:Bind InvoiceLine.InvoiceQtyUOMList}"
                                                              SelectedValue="{x:Bind InvoiceLine.InvoiceQtyUOM,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                              Header="Qty UOM" />
                                                </StackPanel>

                                                <StackPanel Orientation="Horizontal">
                                                    <NumberBox Text="{x:Bind InvoiceLine.PurchasePrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                               Header="Price" />
                                                    <ComboBox ItemsSource="{x:Bind InvoiceLine.PurchasePriceTypeList}"
                                                              SelectedValue="{x:Bind InvoiceLine.PurchasePriceType,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                              Header="Price Type" />
                                                </StackPanel>

                                                <GridView ItemsSource="{x:Bind ProductOrItemDescription, Mode=OneWay}"
                                                          SelectionMode="None">
                                                    <GridView.ItemTemplate>
                                                        <DataTemplate x:DataType="models:BaseProductOrItemDescriptionModel">
                                                            <StackPanel Margin="0">
                                                                <ComboBox  Header="Characteristic Code"
                                                                           Width="{StaticResource MultipleOf4RectBase}"
                                                                           ItemsSource="{x:Bind ProductCharacteristicCodeList}"
                                                                          SelectedValue="{x:Bind ProductCharacteristicCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                                                                <TextBox  Header="Product Description" 
                                                                          Text="{x:Bind ProductDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                          Width="{StaticResource MultipleOf4RectBase}"
                                                                          MaxWidth="{StaticResource MultipleOf4RectWidth}" />
                                                            </StackPanel>
                                                        </DataTemplate>
                                                    </GridView.ItemTemplate>
                                                </GridView>

                                                <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ChargesAllowances, Mode=OneWay}"
                                                                                         ActionButtonCommandParam="CommandAddChargesAllowances">
                                                    <userControls:AddableGridViewUserControl.ItemTemplate>
                                                        <DataTemplate x:DataType="models:BaseChargesAllowances">
                                                            <StackPanel>
                                                                <StackPanel Orientation="Horizontal">
                                                                    <ComboBox ItemsSource="{x:Bind AllowChrgIndicatorList}"
                                                                              SelectedValue="{x:Bind AllowChrgIndicator, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                              Header="Chrg Indicator" />

                                                                    <ComboBox ItemsSource="{x:Bind  AllowChrgAgencyCodeList}"
                                                                              SelectedValue="{x:Bind AllowChrgAgencyCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                              Header="Agency Code" />
                                                                </StackPanel>

                                                                <ComboBox ItemsSource="{x:Bind  AllowChrgCodeList}"
                                                                          SelectedValue="{x:Bind AllowChrgCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                          Header="Chrg Code" />

                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBox Text="{x:Bind AllowChrgAgency, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                             Width="100"
                                                                             Header="Chrg Agency" />

                                                                    <TextBox Text="{x:Bind AllowChrgHandlingDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                             Width="100"
                                                                             Header="Description" />
                                                                </StackPanel>

                                                                <NumberBox Text="{x:Bind AllowChrgAmt, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                           Header="Chrg Amount" />
                                                            </StackPanel>
                                                        </DataTemplate>
                                                    </userControls:AddableGridViewUserControl.ItemTemplate>
                                                </userControls:AddableGridViewUserControl>
                                            </StackPanel>
                                        </userControls:RemoveableItemUserControl.ItemContent>
                                    </userControls:RemoveableItemUserControl>
                                </DataTemplate>
                            </GridView.ItemTemplate>
                        </GridView>
                    </Grid>
                </userControls:TitledFieldsUserControl.Fields>
            </userControls:TitledFieldsUserControl>
        </userControls:CanSendDocumentsUserControl.BodyContent>
    </userControls:CanSendDocumentsUserControl>
</Page>
