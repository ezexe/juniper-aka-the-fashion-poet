<Page x:Class="Juniper.WinUI.App.Pages.ASNPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:Juniper.WinUI.App.Pages"
      xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
      xmlns:models="using:Juniper.Core.Models"
      xmlns:userControls="using:Juniper.WinUI.App.Controls"
      xmlns:behaviors="using:Juniper.WinUI.App.Behaviors"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      x:Name="asnPage"
      mc:Ignorable="d"
      NavigationCacheMode="Disabled">
    <userControls:CanSendDocumentsUserControl HeaderText="{x:Bind ViewModel.StringId}">
        <userControls:CanSendDocumentsUserControl.HeaderContent>
            <Grid>
                <CommandBar Grid.Column="1">
                    <AppBarButton Command="{x:Bind ViewModel.OnCommand}"
                                  CommandParameter="CommandExportPackingList"
                                  Label="Packing List"
                                  Icon="List"
                                  ToolTipService.ToolTip="Create Packing List" />


                    <AppBarButton Label="Shipping Labels"
                                  Icon="Print"
                                  ToolTipService.ToolTip="Generate Printable Shipping Labels pdf">
                        <AppBarButton.Flyout>
                            <MenuFlyout>
                                <MenuFlyoutItem Text="Create New Labels"
                                                Command="{x:Bind ViewModel.OnCommand}"
                                                CommandParameter="CommandShippingLabels">
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="NewFolder" />
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>
                                <MenuFlyoutItem Text="Print/Preview Existing"
                                                Command="{x:Bind ViewModel.OnCommand}"
                                                CommandParameter="CommandPreviewShippingLabels">
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="Print" />
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>
                            </MenuFlyout>
                        </AppBarButton.Flyout>
                    </AppBarButton>
                </CommandBar>
            </Grid>
        </userControls:CanSendDocumentsUserControl.HeaderContent>

        <userControls:CanSendDocumentsUserControl.ExpanderBodyContent>
            <ScrollViewer>
                <ContentControl IsEnabled="{x:Bind ViewModel.ForceEnabled,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                    <ContentControl.Content>
                        <StackPanel HorizontalAlignment="Stretch"
                                    VerticalAlignment="Top">

                            <Expander Header="Settings"
                                      ExpandDirection="Down"
                                      HorizontalAlignment="Stretch"
                                      Margin="0,0,0,6">
                                <Grid>
                                    <userControls:TitledFieldsUserControl HeaderText="Shipment Settings">
                                        <userControls:TitledFieldsUserControl.Fields>
                                            <StackPanel Width="{StaticResource BasePageUserControlWidth}">
                                                <StackPanel.Resources>
                                                    <Style TargetType="TextBox">
                                                        <Setter Property="HorizontalAlignment"
                                                                Value="Stretch" />
                                                        <Setter Property="Margin"
                                                                Value="{StaticResource ActionsPadding}" />
                                                    </Style>
                                                </StackPanel.Resources>
                                                <!--<DatePicker Header="Actual Ship Date"
                                                Margin="6"
                                                ToolTipService.ToolTip="Date shipment Actually shipped from location"
                                                SelectedDate="{x:Bind ViewModel.InternalASNSettings.InternalActuallShip, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />-->
                                                <userControls:CalendarDatePickerEx Header="Actual Ship Date"
                                                                                   Margin="{StaticResource ActionsPadding}"
                                                                                   ToolTipService.ToolTip="Date shipment Actually shipped from location"
                                                                                   Date="{x:Bind ViewModel.InternalASNSettings.InternalActuallShip, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                                                <TextBox Text="{x:Bind ViewModel.InternalASNSettings.MasterBOLPath, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                         Header="Master BOL Path" />
                                            </StackPanel>
                                        </userControls:TitledFieldsUserControl.Fields>
                                    </userControls:TitledFieldsUserControl>
                                </Grid>
                            </Expander>

                            <userControls:TitledFieldsUserControl HeaderText="Shipment Header"
                                                                  Grid.Row="1">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <StackPanel Width="{StaticResource BasePageUserControlWidth}">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBox Text="{x:Bind ViewModel.ShipmentHeader.TradingPartnerId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                     Header="Trading Partner Id" />
                                            <TextBox Text="{x:Bind ViewModel.ShipmentHeader.ShipmentIdentification, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                     Header="Shipment Identification" />
                                            <TextBox Text="{x:Bind ViewModel.ShipmentHeader.BillOfLadingNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                     Header="Bill Of Lading Number" />
                                        </StackPanel>
                                        <TextBox Text="{x:Bind ViewModel.ShipmentHeader.CarrierProNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 Header="Carrier Pro Number" />
                                        <StackPanel Orientation="Horizontal">
                                            <DatePicker Header="Ship Date"
                                                        Margin="6"
                                                        ToolTipService.ToolTip="Date shipment will leave the ship from location"
                                                        SelectedDate="{x:Bind ViewModel.ShipmentHeader.ShipDate, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                            <DatePicker Header="Current Scheduled Delivery Date"
                                                        Margin="6"
                                                        ToolTipService.ToolTip="Current scheduled date of delivery"
                                                        SelectedDate="{x:Bind ViewModel.ShipmentHeader.CurrentScheduledDeliveryDate, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <DatePicker Header="Ship Notice Date"
                                                        Margin="6"
                                                        ToolTipService.ToolTip="Date the document was created"
                                                        SelectedDate="{x:Bind ViewModel.ShipmentHeader.ShipNoticeDate, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                            <TimePicker ClockIdentifier="24HourClock"
                                                        Header="Ship Notice Time"
                                                        SelectedTime="{x:Bind ViewModel.ShipmentHeader.ShipNoticeTime}" />
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <ComboBox ItemsSource="{x:Bind ViewModel.ShipmentHeader.TsetPurposeCodeList}"
                                                      SelectedValue="{x:Bind ViewModel.ShipmentHeader.TsetPurposeCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                      SelectedValuePath="Item1"
                                                      ToolTipService.ToolTip="Code identifying purpose or function of the transmission"
                                                      Header="Tset Purpose Code" />
                                            <ComboBox ItemsSource="{x:Bind ViewModel.ShipmentHeader.ASNStructureCodeList}"
                                                      SelectedValue="{x:Bind ViewModel.ShipmentHeader.ASNStructureCode,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                      SelectedValuePath="Item1"
                                                      ToolTipService.ToolTip="Code is the reflection of the structure of the document"
                                                      Header="ASN Structure Code" />
                                        </StackPanel>
                                    </StackPanel>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Carrier Information"
                                                                  Grid.Row="2">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <StackPanel>
                                        <ComboBox ItemsSource="{x:Bind ViewModel.SettingsCarrierInformationCollection}"
                                                  SelectedItem="{x:Bind ViewModel.SelectedSettingsCarrierInformationCollection,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                  DisplayMemberPath="Title"
                                                  Header="Settings Carrier Information" />
                                        <ItemsControl ItemsSource="{x:Bind ViewModel.CarrierInformationCollection}"
                                                      ItemTemplate="{StaticResource dtBaseCarrierInformationModel}" />
                                    </StackPanel>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Quantity And Weight"
                                                                  Grid.Row="3">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <StackPanel Width="{StaticResource BasePageUserControlWidth}">
                                        <StackPanel Orientation="Horizontal">
                                            <ComboBox ItemsSource="{x:Bind ViewModel.QuantityAndWeight.PackingMediumList}"
                                                      SelectedValue="{x:Bind ViewModel.QuantityAndWeight.PackingMedium,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                      Header="Packing Medium" />
                                            <ComboBox ItemsSource="{x:Bind ViewModel.QuantityAndWeight.PackingMaterialList}"
                                                      SelectedValue="{x:Bind ViewModel.QuantityAndWeight.PackingMaterial,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                      Header="Packing Material" />
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <ComboBox ItemsSource="{x:Bind ViewModel.QuantityAndWeight.WeightQualifierList}"
                                                      SelectedValue="{x:Bind ViewModel.QuantityAndWeight.WeightQualifier,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                      Header="Weight Qualifier" />
                                            <TextBox Text="{x:Bind ViewModel.QuantityAndWeight.Weight, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                     Header="Weight" />
                                            <ComboBox ItemsSource="{x:Bind ViewModel.QuantityAndWeight.WeightUOMList}"
                                                      SelectedValue="{x:Bind ViewModel.QuantityAndWeight.WeightUOM,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                      Header="Weight UOM" />
                                        </StackPanel>
                                    </StackPanel>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Ships To"
                                                                  Grid.Row="0">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <StackPanel Width="{StaticResource BasePageUserControlWidth}">
                                        <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ViewModel.STAddresses,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                                 DeleteRequested="AddableGridViewUserControl_DeleteRequested">
                                            <userControls:AddableGridViewUserControl.ItemTemplate>
                                                <DataTemplate x:DataType="models:BaseAddressModel">
                                                    <StackPanel>
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBox Text="{x:Bind AddressLocationNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                     Header="Address Location Number" />
                                                            <!--<TextBox Text="{x:Bind DC, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                     Header="DC" />-->
                                                        </StackPanel>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </userControls:AddableGridViewUserControl.ItemTemplate>
                                        </userControls:AddableGridViewUserControl>
                                    </StackPanel>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>

                            <userControls:TitledFieldsUserControl HeaderText="Ships From"
                                                                  Grid.Row="5">
                                <userControls:TitledFieldsUserControl.Fields>
                                    <StackPanel Width="{StaticResource BasePageUserControlWidth}">
                                        <TextBox Text="{x:Bind ViewModel.SFAddress.AddressModel.Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 Header="Address Name" />
                                    </StackPanel>
                                </userControls:TitledFieldsUserControl.Fields>
                            </userControls:TitledFieldsUserControl>
                        </StackPanel>
                    </ContentControl.Content>
                </ContentControl>
            </ScrollViewer>
        </userControls:CanSendDocumentsUserControl.ExpanderBodyContent>

        <userControls:CanSendDocumentsUserControl.BodyContent>
            <userControls:TitledFieldsUserControl HeaderText="Styles &amp; Packages"
                                                  HorizontalAlignment="Stretch">
                <userControls:TitledFieldsUserControl.Fields>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>

                        <ContentControl Padding="{StaticResource ActionsPaddingLeft}"
                                        IsEnabled="{x:Bind ViewModel.ForceEnabled,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                            <ContentControl.Content>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock Style="{StaticResource SubtitleTextBlockStyle}"
                                               Margin="{StaticResource ActionsPaddingDown}"
                                               Text="Styles" />

                                    <Grid Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                          BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                          CornerRadius="{StaticResource ControlCornerRadius}"
                                          BorderThickness="{StaticResource ControlBorderThickness}"
                                          Padding="{StaticResource ActionsPadding}"
                                          HorizontalAlignment="Stretch"
                                          VerticalAlignment="Top"
                                          Grid.Row="1">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <ListView Grid.Row="0"
                                                  VerticalAlignment="Stretch"
                                                  SelectionMode="None"
                                                  Width="{StaticResource MultipleOf4RectWidthSmall}"
                                                  ItemsSource="{x:Bind ViewModel.POOrderLines}">
                                            <ListView.ItemTemplate>
                                                <DataTemplate x:DataType="models:POOrderLineModel">
                                                    <Grid>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto" />
                                                            <RowDefinition />
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*" />
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition Width="Auto" />
                                                        </Grid.ColumnDefinitions>
                                                        <SymbolIcon Grid.Column="2"
                                                                    Symbol="Accept"
                                                                    Margin="{StaticResource ActionsPaddingLeft}"
                                                                    Foreground="{ThemeResource SystemFillColorSuccessBrush}"
                                                                    Visibility="{x:Bind WasSent,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Converter={StaticResource boolToVisibilityConverter}}" />
                                                        
                                                        <CheckBox Grid.Column="0"
                                                                  VerticalContentAlignment="Center"
                                                                  Content="{x:Bind LineItem.OrderLine.VendorPartNumber}"
                                                                  IsChecked="{x:Bind IsSelected, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />

                                                        <TextBlock Grid.Column="1"
                                                                   VerticalAlignment="Center"
                                                                   Visibility="{Binding LineItem.OrderLine.ProductColorDescription, Converter={StaticResource nullToVisibilityConverter}}">
                                                            <Run Text="{x:Bind LineItem.OrderLine.ProductColorDescription}" />
                                                        </TextBlock>

                                                        <ListView Grid.Row="1"
                                                                  Grid.ColumnSpan="5"
                                                                  MaxHeight="{StaticResource MultipleOf4RectBase}"
                                                                  SelectionMode="None"
                                                                  HorizontalContentAlignment="Stretch"
                                                                  ItemsSource="{x:Bind SubLineItems}"
                                                                  Visibility="{Binding IsSelected, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, Converter={StaticResource boolToVisibilityConverter}}">
                                                            <ListView.ItemTemplate>
                                                                <DataTemplate x:DataType="models:POOrderLineModel">
                                                                    <Grid>
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="*" />
                                                                            <ColumnDefinition Width="Auto" />
                                                                        </Grid.ColumnDefinitions>
                                                                        <ToolTipService.ToolTip>
                                                                            <ListBox ItemsSource="{x:Bind LineItem.QuantitiesSchedulesLocations}">
                                                                                <ListBox.ItemTemplate>
                                                                                    <DataTemplate>
                                                                                        <ListBox ItemsSource="{Binding LocationQuantity}">
                                                                                            <ListBox.ItemTemplate>
                                                                                                <DataTemplate>
                                                                                                    <TextBlock VerticalAlignment="Center">
                                                                                                            <Run Text="{Binding Location}" />
                                                                                                            <Run Text="{Binding Qty}" />
                                                                                                    </TextBlock>
                                                                                                </DataTemplate>
                                                                                            </ListBox.ItemTemplate>
                                                                                        </ListBox>
                                                                                    </DataTemplate>
                                                                                </ListBox.ItemTemplate>
                                                                            </ListBox>
                                                                        </ToolTipService.ToolTip>

                                                                        <TextBlock VerticalAlignment="Center">
                                                                        <Run Text="{x:Bind LineItem.OrderLine.ConsumerPackageCode}" />
                                                                        <Run Text="{x:Bind LineItem.OrderLine.ProductSizeDescription}" />
                                                                        </TextBlock>
                                                                    </Grid>
                                                                </DataTemplate>
                                                            </ListView.ItemTemplate>
                                                        </ListView>
                                                    </Grid>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>

                                        <StackPanel Grid.Row="1">
                                            <NumberBox Value="{x:Bind ViewModel.POOrderLinesMaxQty, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                       Header="Max Qty" />
                                            <CheckBox Content="Apply Max"
                                                      Margin="8,0,0,0"
                                                      VerticalContentAlignment="Top"
                                                      IsChecked="{x:Bind ViewModel.UseMax, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                        </StackPanel>

                                        <Button Content="Sort"
                                                Grid.Row="2"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Bottom"
                                                Margin="{StaticResource ActionsPadding}"
                                                Command="{x:Bind ViewModel.OnCommand}"
                                                CommandParameter="CommandApply"
                                                ToolTipService.ToolTip="Add Selected Styles" />
                                    </Grid>
                                </Grid>
                            </ContentControl.Content>
                        </ContentControl>

                        <Grid Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <TextBlock Style="{StaticResource SubtitleTextBlockStyle}"
                                       Padding="{StaticResource ActionsLargePaddingLeft}"
                                       Margin="{StaticResource ActionsPaddingDown}"
                                       Text="Packages" />
                            <userControls:AddableListViewUserControl Grid.Row="1"
                                                                     ItemsSource="{x:Bind ViewModel.OrderLevel,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                     ActionButtonCommandParam="CommandAddToOrderLevelList">
                                <userControls:AddableListViewUserControl.ItemTemplate>
                                    <DataTemplate x:DataType="models:OrderPackItemModel">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <StackPanel Orientation="Horizontal"
                                                        Grid.Row="0"
                                                        Margin="{StaticResource ActionsPaddingLeft}">
                                                <TextBlock Text="Store: "
                                                           VerticalAlignment="Center"
                                                           Style="{ThemeResource SubtitleTextBlockStyle}" />
                                                <ComboBox ItemsSource="{x:Bind Address.AddressLocationNumbersList,Mode=OneWay}"
                                                          SelectedItem="{x:Bind Address.AddressLocationNumber,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                          x:Phase="0" />
                                            </StackPanel>

                                            <Grid Grid.Row="1">
                                                <userControls:AddableListViewUserControl ItemsSource="{x:Bind PackLevelList,Mode=OneWay}"
                                                                                         OnCommand="{x:Bind OnCommand}"
                                                                                         ActionButtonCommandParam="CommandAddPack">
                                                    <userControls:AddableListViewUserControl.ItemTemplate>
                                                        <DataTemplate x:DataType="models:PackItemModel">
                                                            <Grid HorizontalAlignment="Left">
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="Auto" />
                                                                    <RowDefinition Height="*" />
                                                                </Grid.RowDefinitions>
                                                                <StackPanel Orientation="Horizontal"
                                                                            VerticalAlignment="Center"
                                                                            Margin="{StaticResource ActionsPaddingLeft}">
                                                                    <TextBlock Text="SSCC:"
                                                                               Style="{ThemeResource SubtitleTextBlockStyle}"
                                                                               VerticalAlignment="Center" />

                                                                    <TextBox Text="{x:Bind ShippingSerialID,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                             Grid.Row="3"
                                                                             VerticalAlignment="Top"
                                                                             HorizontalAlignment="Left"
                                                                             Header="" />
                                                                </StackPanel>

                                                                <Grid Grid.Row="1">
                                                                    <userControls:AddableGridViewUserControl ItemsSource="{x:Bind ItemLevel.ShipmentLines,Mode=OneWay}"
                                                                                                             ActionButtonCommandParam="CommandAddShipmentLine">
                                                                        <userControls:AddableGridViewUserControl.ItemTemplate>
                                                                            <DataTemplate x:DataType="models:ShipmentLine">
                                                                                <Grid>
                                                                                    <Grid.RowDefinitions>
                                                                                        <RowDefinition Height="Auto" />
                                                                                        <RowDefinition Height="*" />
                                                                                    </Grid.RowDefinitions>

                                                                                    <StackPanel Orientation="Horizontal"
                                                                                                Grid.Row="0">
                                                                                        <ComboBox ItemsSource="{x:Bind CPCLineItems,Mode=OneWay}"
                                                                                                  SelectedItem="{x:Bind CPCLineItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                                                                  x:Phase="1"
                                                                                                  Header="CPC:"
                                                                                                  Margin="{StaticResource ActionsPaddingSmallUpDown}"
                                                                                                  Width="{StaticResource MultipleOf4RectWidthXSmall}">
                                                                                            <ComboBox.ItemTemplate>
                                                                                                <DataTemplate>
                                                                                                    <StackPanel>
                                                                                                        <TextBlock x:Name="tbcpc"
                                                                                                                   Text="{Binding}" />
                                                                                                        <TextBlock Text="{Binding ElementName=tbcpc, Path=Text,
                                                                                                            Converter={StaticResource StyleCodeToDescriptionConverter}, ConverterParameter=Product}" />
                                                                                                        <TextBlock Text="{Binding ElementName=tbcpc, Path=Text,
                                                                                                            Converter={StaticResource StyleCodeToDescriptionConverter}, ConverterParameter=Description}" />
                                                                                                        <TextBlock Text="{Binding ElementName=tbcpc, Path=Text,
                                                                                                            Converter={StaticResource StyleCodeToDescriptionConverter}, ConverterParameter=ColorDescription}" />
                                                                                                        <TextBlock Text="{Binding ElementName=tbcpc, Path=Text,
                                                                                                            Converter={StaticResource StyleCodeToDescriptionConverter}, ConverterParameter=Size}" />
                                                                                                    </StackPanel>
                                                                                                </DataTemplate>
                                                                                            </ComboBox.ItemTemplate>
                                                                                        </ComboBox>
                                                                                    </StackPanel>


                                                                                    <!--<TextBlock Grid.Row="0"
                                                                                               Margin="{StaticResource ActionsPaddingSmallUpDown}"
                                                                                               VerticalAlignment="Center"
                                                                                               Text="{x:Bind ConsumerPackageCode, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, 
                                                                                                Converter={StaticResource StyleCodeToDescriptionConverter}}">
                                                                                    </TextBlock>


                                                                                    <TextBlock Grid.Row="1"
                                                                                               Margin="{StaticResource ActionsPaddingSmallUpDown}"
                                                                                               VerticalAlignment="Center"
                                                                                               Text="{x:Bind ConsumerPackageCode, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, 
                                                                                                Converter={StaticResource StyleCodeToDescriptionConverter}, ConverterParameter=Description}">
                                                                                    </TextBlock>-->

                                                                                    <NumberBox Grid.Row="1"
                                                                                               Header="Qty:"
                                                                                               Value="{x:Bind ShipQty, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                                               Margin="{StaticResource ActionsPaddingSmallUpDown}" />
                                                                                </Grid>
                                                                            </DataTemplate>
                                                                        </userControls:AddableGridViewUserControl.ItemTemplate>
                                                                    </userControls:AddableGridViewUserControl>
                                                                </Grid>
                                                            </Grid>
                                                        </DataTemplate>

                                                    </userControls:AddableListViewUserControl.ItemTemplate>
                                                </userControls:AddableListViewUserControl>
                                            </Grid>
                                        </Grid>
                                    </DataTemplate>
                                </userControls:AddableListViewUserControl.ItemTemplate>
                            </userControls:AddableListViewUserControl>
                        </Grid>
                    </Grid>
                    </Grid>
                </userControls:TitledFieldsUserControl.Fields>
            </userControls:TitledFieldsUserControl>
        </userControls:CanSendDocumentsUserControl.BodyContent>
    </userControls:CanSendDocumentsUserControl>
</Page>
